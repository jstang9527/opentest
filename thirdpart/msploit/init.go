package msploit

/* + 需要提前做的事情
   1. 有且仅有四个终端
*/

const (
	user = "msf"
	host = "172.31.50.156:55552"
	pass = "password"
)

func NewMsf() (msf *Metasploit, err error) {
	msf, err = newRPC(host, user, pass)
	return
}

// 提前创建4个终端
func InitConsole() (err error) {
	msf, err := NewMsf()
	if err != nil {
		return
	}
	defer msf.Destroy()
	for i := 0; i < 4; i++ {
		res, err := msf.CreateConsole()
		if err != nil {
			return err
		}
		//消除欢迎页信息
		msf.ConsoleRead(res.ID)
	}
	return
}
