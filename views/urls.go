package views

import (
	"net/http"
	"strings"
)

//举几种情况
//1. /
//2. /index.html
//3. /css/
//4. /css/public.css
//主要根据路由进行任务分发

//URLRoute 根路由
func URLRoute(w http.ResponseWriter, r *http.Request) { //主路由
	requestURI := r.RequestURI
	if requestURI == "/" {
		IndexRequest(w, r) //主页
	} else if requestURI == "/favicon.ico" {
		IconRequest(w, r)
	} else if strings.HasPrefix(requestURI, "/resources") { //其他静态资源
		ResourcesRequest(w, r)
	} else if strings.HasPrefix(requestURI, "/static") { //网站静态资源
		StaticRequest(w, r)
	} else { //没有定义的路径不给走,直接404
		DialLog(r, 404)
		w.Write([]byte(`<h1 style="color:red;text-align:center">404 网页丢失了</h1>`))
	}
}
